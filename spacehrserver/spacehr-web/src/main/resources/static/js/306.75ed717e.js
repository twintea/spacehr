"use strict";(self["webpackChunkvuehr"]=self["webpackChunkvuehr"]||[]).push([[306],{8643:function(e,t,a){a.r(t),a.d(t,{default:function(){return p}});var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v(" 高级资料 ")])},i=[],r={name:"EmpAdv"},s=r,o=a(1001),n=(0,o.Z)(s,l,i,!1,null,"03046d7e",null),p=n.exports},9150:function(e,t,a){a.r(t),a.d(t,{default:function(){return p}});var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[a("div",[a("el-input",{staticStyle:{"margin-right":"10px",width:"200px"},attrs:{disabled:e.showAdvanceSearch,placeholder:"请输入员工姓名搜索",clearable:""},on:{clear:e.initEmps},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.initEmps.apply(null,arguments)}},model:{value:e.searchValue.name,callback:function(t){e.$set(e.searchValue,"name",t)},expression:"searchValue.name"}}),a("el-button",{attrs:{type:"primary",icon:"el-icon-search",disabled:e.showAdvanceSearch},on:{click:e.initEmps}},[e._v("搜索")]),a("el-button",{attrs:{type:"primary",icon:e.showAdvanceSearch?"el-icon-caret-top":"el-icon-caret-bottom"},on:{click:function(t){e.showAdvanceSearch=!e.showAdvanceSearch}}},[e._v("高级搜索 ")])],1),a("div",[a("el-button",{attrs:{type:"success"},on:{click:e.exportData}},[e._v("导出数据")]),a("el-button",{attrs:{type:"success"},on:{click:function(t){e.importDialog=!0}}},[e._v("导入数据")]),a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.showAddDialog}},[e._v("添加用户")])],1)]),a("transition",{attrs:{name:"slide-fade"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.showAdvanceSearch,expression:"showAdvanceSearch"}],staticStyle:{border:"1px solid #409eff","border-radius":"5px","box-sizing":"border-box",padding:"10px",margin:"10px"}},[a("el-row",[a("el-col",[e._v(" 员工姓名: "),a("el-input",{staticStyle:{"margin-right":"10px",width:"150px"},attrs:{placeholder:"请输入员工姓名",clearable:""},model:{value:e.searchValue.name,callback:function(t){e.$set(e.searchValue,"name",t)},expression:"searchValue.name"}})],1)],1),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-col",{attrs:{span:5}},[e._v(" 政治面貌: "),a("el-select",{staticStyle:{width:"150px"},attrs:{clearable:"",placeholder:"请选择"},model:{value:e.searchValue.politicId,callback:function(t){e.$set(e.searchValue,"politicId",t)},expression:"searchValue.politicId"}},e._l(e.politicsstatus,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-col",{attrs:{span:4}},[e._v(" 民族: "),a("el-select",{staticStyle:{width:"100px"},attrs:{clearable:"",placeholder:"请选择"},model:{value:e.searchValue.nationId,callback:function(t){e.$set(e.searchValue,"nationId",t)},expression:"searchValue.nationId"}},e._l(e.nation,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-col",{attrs:{span:4}},[e._v(" 职位: "),a("el-select",{staticStyle:{width:"100px"},attrs:{clearable:"",placeholder:"请选择职位"},model:{value:e.searchValue.posId,callback:function(t){e.$set(e.searchValue,"posId",t)},expression:"searchValue.posId"}},e._l(e.position,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-col",{attrs:{span:4}},[e._v(" 职称: "),a("el-select",{staticStyle:{width:"130px"},attrs:{clearable:"",placeholder:"请选择职称"},model:{value:e.searchValue.jobLevelId,callback:function(t){e.$set(e.searchValue,"jobLevelId",t)},expression:"searchValue.jobLevelId"}},e._l(e.joblevel,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-col",{attrs:{span:7}},[e._v(" 聘用形式: "),a("el-radio-group",{model:{value:e.searchValue.engageForm,callback:function(t){e.$set(e.searchValue,"engageForm",t)},expression:"searchValue.engageForm"}},[a("el-radio",{attrs:{label:"劳动合同"}},[e._v("劳动合同")]),a("el-radio",{attrs:{label:"劳务合同"}},[e._v("劳务合同")]),a("el-radio",{attrs:{label:""}},[e._v("不确定")])],1)],1)],1),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-col",{attrs:{span:5}},[e._v(" 所属部门: "),a("el-cascader",{ref:"searchDepts",staticStyle:{width:"150px"},attrs:{options:e.departments,props:{checkStrictly:!0,label:"name",value:"id"},"show-all-levels":!1,clearable:""},on:{change:e.AdvancedSearchDeptChange},model:{value:e.searchValue.departmentId,callback:function(t){e.$set(e.searchValue,"departmentId",t)},expression:"searchValue.departmentId"}})],1),a("el-col",{attrs:{span:5}},[e._v(" 工号: "),a("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"请输入工号"},model:{value:e.searchValue.workId,callback:function(t){e.$set(e.searchValue,"workId",t)},expression:"searchValue.workId"}})],1),a("el-col",{attrs:{span:10}},[e._v(" 入职日期: "),a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd","unlink-panels":"",type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.searchValue.date,callback:function(t){e.$set(e.searchValue,"date",t)},expression:"searchValue.date"}})],1),a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{icon:"el-icon-search",type:"primary"},on:{click:e.doAdvancedSearch}},[e._v("搜索")]),a("el-button",[e._v("取消")])],1)],1)],1)]),a("div",[a("el-dialog",{attrs:{title:"导入数据",visible:e.importDialog,width:"30%"},on:{"update:visible":function(t){e.importDialog=t}}},[a("div",{staticStyle:{"text-align":"center"}},[a("el-upload",{staticClass:"upload-demo",attrs:{drag:"","on-success":e.importSuccess,"on-error":e.importError,action:"/employee/basic/import/"}},[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),a("em",[e._v("点击上传（TODO）")])]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传xlsx文件，且不超过500kb")])])],1)])],1),a("div",{staticStyle:{"margin-top":"20px"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.emps,border:"",stripe:""}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{prop:"name",fixed:"",width:"90",align:"left",label:"姓名"}}),a("el-table-column",{attrs:{prop:"gender",width:"55",label:"性别"}}),a("el-table-column",{attrs:{prop:"workId",label:"工号",width:"85",align:"left"}}),a("el-table-column",{attrs:{prop:"birthday",width:"100",label:"出生日期"}}),a("el-table-column",{attrs:{prop:"idCard",width:"150",label:"身份证号码"}}),a("el-table-column",{attrs:{prop:"wedlock",width:"70",label:"婚姻状况"}}),a("el-table-column",{attrs:{prop:"nation.name",width:"50",label:"民族"}}),a("el-table-column",{attrs:{prop:"nativePlace",width:"80",label:"籍贯"}}),a("el-table-column",{attrs:{prop:"politicsstatus.name",label:"政治面貌"}}),a("el-table-column",{attrs:{prop:"email",width:"180",label:"电子邮件"}}),a("el-table-column",{attrs:{prop:"phone",width:"100",label:"电话号码"}}),a("el-table-column",{attrs:{prop:"address",width:"220",label:"联系地址"}}),a("el-table-column",{attrs:{prop:"department.name",width:"100",label:"所属部门"}}),a("el-table-column",{attrs:{prop:"position.name",width:"100",label:"职位"}}),a("el-table-column",{attrs:{prop:"joblevel.name",width:"100",label:"职称"}}),a("el-table-column",{attrs:{prop:"engageForm",width:"100",label:"聘用形式"}}),a("el-table-column",{attrs:{prop:"beginDate",width:"100",label:"入职日期"}}),a("el-table-column",{attrs:{prop:"conversionTime",width:"100",label:"转正日期"}}),a("el-table-column",{attrs:{prop:"beginContract",width:"100",label:"合同起始日期"}}),a("el-table-column",{attrs:{prop:"endContract",width:"100",label:"合同终止日期"}}),a("el-table-column",{attrs:{width:"70",label:"合同期限"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.contractTerm)+"年 ")]}}])}),a("el-table-column",{attrs:{prop:"school",width:"110",label:"毕业院校"}}),a("el-table-column",{attrs:{prop:"specialty",width:"150",label:"专业"}}),a("el-table-column",{attrs:{prop:"tiptopDegree",width:"85",label:"最高学历"}}),a("el-table-column",{attrs:{label:"操作",width:"200",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticStyle:{padding:"3px"},attrs:{size:"mini"},on:{click:function(a){return e.showEditDialog(t.row)}}},[e._v("编辑")]),a("el-button",{staticStyle:{padding:"3px"},attrs:{size:"mini",type:"primary"}},[e._v("查看高级资料")]),a("el-button",{staticStyle:{padding:"3px"},attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.delEmp(t.row)}}},[e._v("删除")])]}}])})],1)],1),a("div",[a("el-pagination",{staticStyle:{display:"flex","justify-content":"flex-start"},attrs:{background:"",layout:"sizes, prev, pager, next, jumper, ->, total, slot\t","current-page":e.page,total:e.total},on:{"current-change":e.currentChange,"update:currentPage":function(t){e.page=t},"update:current-page":function(t){e.page=t},"size-change":e.sizeChange}})],1),a("div",[a("el-dialog",{attrs:{width:"80%",title:e.title,visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("div",[a("el-form",{ref:"form",attrs:{rules:e.rules,model:e.emp,"label-width":"80px"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"姓名:",prop:"name"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit-outline",placeholder:"请输入员工姓名"},model:{value:e.emp.name,callback:function(t){e.$set(e.emp,"name",t)},expression:"emp.name"}})],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"性别:",prop:"gender"}},[a("el-radio-group",{model:{value:e.emp.gender,callback:function(t){e.$set(e.emp,"gender",t)},expression:"emp.gender"}},[a("el-radio",{attrs:{label:"男"}},[e._v("男")]),a("el-radio",{attrs:{label:"女"}},[e._v("女")])],1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"出生日期",prop:"birthday"}},[a("el-date-picker",{staticStyle:{width:"150px"},attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.emp.birthday,callback:function(t){e.$set(e.emp,"birthday",t)},expression:"emp.birthday"}})],1)],1),a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{prop:"politicId",label:"政治面貌"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.emp.politicId,callback:function(t){e.$set(e.emp,"politicId",t)},expression:"emp.politicId"}},e._l(e.politicsstatus,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{prop:"nationId",label:"民族:"}},[a("el-select",{staticStyle:{width:"150px"},attrs:{clearable:"",placeholder:"请选择民族"},model:{value:e.emp.nationId,callback:function(t){e.$set(e.emp,"nationId",t)},expression:"emp.nationId"}},e._l(e.nation,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"籍贯:",prop:"nativePlace"}},[a("el-input",{staticStyle:{width:"120px"},attrs:{placeholder:"请输入籍贯","prefix-icon":"el-icon-edit-outline"},model:{value:e.emp.nativePlace,callback:function(t){e.$set(e.emp,"nativePlace",t)},expression:"emp.nativePlace"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"电子邮箱:","label-width":"100px",prop:"email"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"请输入电子邮箱","prefix-icon":"el-icon-message"},model:{value:e.emp.email,callback:function(t){e.$set(e.emp,"email",t)},expression:"emp.email"}})],1)],1),a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"联系地址:","label-width":"100px",prop:"address"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入联系地址","prefix-icon":"el-icon-position"},model:{value:e.emp.address,callback:function(t){e.$set(e.emp,"address",t)},expression:"emp.address"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{prop:"posId",label:"职位"}},[a("el-select",{staticStyle:{width:"150px"},attrs:{clearable:"",placeholder:"请选择职位"},model:{value:e.emp.posId,callback:function(t){e.$set(e.emp,"posId",t)},expression:"emp.posId"}},e._l(e.position,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{prop:"jobLevelId",label:"职称:"}},[a("el-select",{staticStyle:{width:"130px"},attrs:{clearable:"",placeholder:"请选择职称"},model:{value:e.emp.jobLevelId,callback:function(t){e.$set(e.emp,"jobLevelId",t)},expression:"emp.jobLevelId"}},e._l(e.joblevel,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{prop:"departmentId","label-width":"100px",label:"所属部门:"}},[a("el-cascader",{ref:"depts",staticStyle:{width:"150px"},attrs:{options:e.departments,props:{checkStrictly:!0,label:"name",value:"id"},"show-all-levels":!1,clearable:""},on:{change:e.handleChange},model:{value:e.departmentId,callback:function(t){e.departmentId=t},expression:"departmentId"}})],1)],1),a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"电话号码:","label-width":"100px",prop:"phone"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"请输入电话号码","prefix-icon":"el-icon-phone-outline"},model:{value:e.emp.phone,callback:function(t){e.$set(e.emp,"phone",t)},expression:"emp.phone"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"工号:",prop:"workId"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"请输入工号","prefix-icon":"el-icon-lock",disabled:""},model:{value:e.emp.workId,callback:function(t){e.$set(e.emp,"workId",t)},expression:"emp.workId"}})],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{prop:"tiptopDegree",label:"学历"}},[a("el-select",{staticStyle:{width:"120px"},attrs:{clearable:"",placeholder:"最高学历"},model:{value:e.emp.tiptopDegree,callback:function(t){e.$set(e.emp,"tiptopDegree",t)},expression:"emp.tiptopDegree"}},e._l(e.tiptopDegree,(function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"毕业院校:","label-width":"100px",prop:"school"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"请输入毕业院校","prefix-icon":"el-icon-phone-outline"},model:{value:e.emp.school,callback:function(t){e.$set(e.emp,"school",t)},expression:"emp.school"}})],1)],1),a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"专业名称:","label-width":"100px",prop:"specialty"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"请输入专业名称","prefix-icon":"el-icon-phone-outline"},model:{value:e.emp.specialty,callback:function(t){e.$set(e.emp,"specialty",t)},expression:"emp.specialty"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"入职日期",prop:"beginDate"}},[a("el-date-picker",{staticStyle:{width:"130px"},attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.emp.beginDate,callback:function(t){e.$set(e.emp,"beginDate",t)},expression:"emp.beginDate"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"转正日期",prop:"conversionTime"}},[a("el-date-picker",{staticStyle:{width:"130px"},attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.emp.conversionTime,callback:function(t){e.$set(e.emp,"conversionTime",t)},expression:"emp.conversionTime"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{"label-width":"120px",label:"合同起始日期",prop:"beginContract"}},[a("el-date-picker",{staticStyle:{width:"130px"},attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.emp.beginContract,callback:function(t){e.$set(e.emp,"beginContract",t)},expression:"emp.beginContract"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{"label-width":"120px",label:"合同终止日期",prop:"endContract"}},[a("el-date-picker",{staticStyle:{width:"130px"},attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.emp.endContract,callback:function(t){e.$set(e.emp,"endContract",t)},expression:"emp.endContract"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"身份证号码:","label-width":"100px",prop:"idCard"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"请输入身份证号码","prefix-icon":"el-icon-phone-outline"},model:{value:e.emp.idCard,callback:function(t){e.$set(e.emp,"idCard",t)},expression:"emp.idCard"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"聘用形式:"}},[a("el-radio-group",{model:{value:e.emp.engageForm,callback:function(t){e.$set(e.emp,"engageForm",t)},expression:"emp.engageForm"}},[a("el-radio",{attrs:{label:"劳动合同"}},[e._v("劳动合同")]),a("el-radio",{attrs:{label:"劳务合同"}},[e._v("劳务合同")])],1)],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"性别:"}},[a("el-radio-group",{model:{value:e.emp.wedlock,callback:function(t){e.$set(e.emp,"wedlock",t)},expression:"emp.wedlock"}},[a("el-radio",{attrs:{label:"已婚"}},[e._v("已婚")]),a("el-radio",{attrs:{label:"未婚"}},[e._v("未婚")]),a("el-radio",{attrs:{label:"离异"}},[e._v("离异")])],1)],1)],1)],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.doAddOrUpdateEmp}},[e._v("确 定")])],1)])],1)],1)},i=[],r={name:"EmpBasic",data(){return{advancedSearchFlag:!1,searchValue:{name:null,nationId:null,politicId:null,departmentId:null,jobLevelId:null,posId:null,engageForm:null,workId:null,date:null},showAdvanceSearch:!1,importDialog:!1,departmentId:1,title:"",dialogFormVisible:!1,name:"",loading:!1,total:10,page:1,size:10,emps:[],emp:{name:"赵琳浩2",gender:"男",birthday:"1993-03-04",idCard:"610122199303041456",wedlock:"未婚",nationId:1,nativePlace:"陕西",politicId:3,email:"zhao@qq.com",phone:"15698887795",address:"陕西省西安市莲湖区",departmentId:1,jobLevelId:12,posId:33,engageForm:"劳动合同",tiptopDegree:"博士",specialty:"电子工程",school:"哈尔滨理工大学",beginDate:"2018-01-01",workState:"在职",workId:"00000013",contractTerm:3.5,conversionTime:"2018-04-01",notWorkDate:null,beginContract:"2018-01-01",endContract:"2021-07-14",workAge:null},departments:[],politicsstatus:[],nation:[],joblevel:[],position:[],tiptopDegree:["本科","硕士","博士","大专","高中","初中","小学","其他"],rules:{name:[{required:!0,message:"请输入用户名",trigger:"blur"}],gender:[{required:!0,message:"请完善性别",trigger:"blur"}],birthday:[{required:!0,message:"请输入出生日期",trigger:"blur"}],idCard:[{required:!0,message:"请输入身份证",trigger:"blur"},{patter:/^[1-9]\d{5}(?:18|19|20)\d{2}(?:0[1-9]|10|11|12)(?:0[1-9]|[1-2]\d|30|31)\d{3}[\dXx]$/,message:"身份证号码格式不正确",trigger:"blur"}],wedlock:[{required:!0,message:"请输入婚姻状况",trigger:"blur"}],nationId:[{required:!0,message:"请输入民族",trigger:"blur"}],nativePlace:[{required:!0,message:"请输入籍贯",trigger:"blur"}],politicId:[{required:!0,message:"请输入政治面貌",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{type:"email",message:"邮箱格式不正确",trigger:"blur"}],phone:[{required:!0,message:"请输入手机号",trigger:"blur"},{patter:/^(?:(?:\+|00)86)?1(?:(?:3[\d])|(?:4[5-79])|(?:5[0-35-9])|(?:6[5-7])|(?:7[0-8])|(?:8[\d])|(?:9[189]))\d{8}$/,message:"手机号码格式不正确",trigger:"blur"}],address:[{required:!0,message:"请输入地址信息",trigger:"blur"}],departmentId:[{required:!0,message:"请输入部门",trigger:"blur"}],jobLevelId:[{required:!0,message:"请输入职称",trigger:"blur"}],posId:[{required:!0,message:"请输入职位",trigger:"blur"}],engageForm:[{required:!0,message:"请输入聘用形式",trigger:"blur"}],tiptopDegree:[{required:!0,message:"请输入最高学历",trigger:"blur"}],specialty:[{required:!0,message:"请输入所属专业",trigger:"blur"}],school:[{required:!0,message:"请输入毕业院校",trigger:"blur"}],beginDate:[{required:!0,message:"请输入入职日期",trigger:"blur"}],workId:[{required:!0,message:"请输入工号",trigger:"blur"}],conversionTime:[{required:!0,message:"请输入转正日期",trigger:"blur"}],beginContract:[{required:!0,message:"请输入合同起始日期",trigger:"blur"}],endContract:[{required:!0,message:"请输入合同终止日期",trigger:"blur"}]}}},mounted(){this.initEmps(),this.initData(),this.initPositions(),this.initDepts()},methods:{doAdvancedSearch(){this.page=1,this.initEmps("advanced")},AdvancedSearchDeptChange(){let e=this.$refs.searchDepts.getCheckedNodes(!0);this.searchValue.departmentId=null!=e?e[0].value:null},importError(){this.importDialog=!1,this.$message.error("导入失败！")},importSuccess(){this.importDialog=!1,this.$message.success("导入成功！"),this.initEmps()},exportData(){window.open("/employee/basic/export/","_parent")},showEditDialog(e){this.emp={},this.title="修改员工信息",this.emp=e,this.departmentId=e.department.id,this.getAddDialogWorkId(),this.dialogFormVisible=!0},delEmp(e){this.$confirm("此操作将永久删除该员工【"+e.name+"】, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{this.deleteRequest("/employee/basic/"+e.id).then((e=>{e&&this.initEmps()}))})).catch((()=>{this.$message({type:"info",message:"已取消删除"})}))},doAddOrUpdateEmp(){this.emp.id?this.$refs.form.validate((e=>{e&&this.putRequest("/employee/basic/",this.emp).then((e=>{e&&(this.dialogFormVisible=!1,this.initEmps())}))})):this.$refs.form.validate((e=>{e&&this.postRequest("/employee/basic/",this.emp).then((e=>{e&&(this.dialogFormVisible=!1,this.initEmps())}))}))},handleChange(){let e=this.$refs.depts.getCheckedNodes(!0);this.emp.departmentId=e[0].value},initDepts(){this.getRequest("/employee/basic/dept/").then((e=>{e&&(this.departments=e.data)}))},getAddDialogWorkId(){this.getRequest("/employee/basic/maxWorkId/").then((e=>{e&&(this.emp.workId=e.data)}))},initPositions(){this.getRequest("/employee/basic/positions").then((e=>{e&&(this.position=e.data)}))},initData(){window.sessionStorage.getItem("politicsstatus")?this.politicsstatus=JSON.parse(window.sessionStorage.getItem("politicsstatus")):this.getRequest("/employee/basic/politics/").then((e=>{e&&(this.politicsstatus=e.data,window.sessionStorage.setItem("politicsstatus",JSON.stringify(e.data)))})),window.sessionStorage.getItem("nation")?this.nation=JSON.parse(window.sessionStorage.getItem("nation")):this.getRequest("/employee/basic/nations/").then((e=>{e&&(this.nation=e.data,window.sessionStorage.setItem("nation",JSON.stringify(e.data)))})),window.sessionStorage.getItem("joblevel")?this.joblevel=JSON.parse(window.sessionStorage.getItem("joblevel")):this.getRequest("/employee/basic/joblevels/").then((e=>{e&&(this.joblevel=e.data,window.sessionStorage.setItem("joblevel",JSON.stringify(e.data)))}))},showAddDialog(){this.title="添加员工",this.getAddDialogWorkId(),this.dialogFormVisible=!0},sizeChange(e){this.size=e,this.advancedSearchFlag?this.initEmps("advanced"):this.initEmps()},currentChange(e){this.page=e,this.advancedSearchFlag?this.initEmps("advanced"):this.initEmps()},initEmps(e){this.loading=!0;let t="/employee/basic/?page="+this.page+"&size="+this.size;this.searchValue.name&&""!=this.searchValue.name&&(t+="&name="+this.searchValue.name),null!=e&&"advanced"==e&&(this.advancedSearchFlag=!0,this.searchValue.date&&(t+="&date="+this.searchValue.date),this.searchValue.nationId&&(t+="&nationId="+this.searchValue.nationId),this.searchValue.departmentId&&(t+="&departmentId="+this.searchValue.departmentId),this.searchValue.jobLevelId&&(t+="&jobLevelId="+this.searchValue.jobLevelId),this.searchValue.politicId&&(t+="&politicId="+this.searchValue.politicId),this.searchValue.posId&&(t+="&posId="+this.searchValue.posId),this.searchValue.engageForm&&""!=this.searchValue.engageForm&&(t+="&engageForm="+this.searchValue.engageForm),this.searchValue.workId&&(t+="&workId="+this.searchValue.workId)),this.getRequest(t).then((e=>{this.loading=!1,e&&(this.emps=e.data.records,this.total=e.data.total)}))}}},s=r,o=a(1001),n=(0,o.Z)(s,l,i,!1,null,"794a0e08",null),p=n.exports}}]);
//# sourceMappingURL=306.75ed717e.js.map